import{r as l,e as v,j as i,c as g}from"./index-yuUUyctO.js";import{u as ee}from"./useIsomorphicEffect-CPnuJ_5F.js";import{u as ae}from"./useEventCallback-DSfWK9PI.js";import{A as ne,M as te,B as se,a as re,g as oe}from"./AbstractModalHeader-CJJN3LdW.js";import{F as fe}from"./NoopTransition-ol0NX5SZ.js";import{T as ce,t as le,g as ie,E as H,a as ue,b as de}from"./TransitionWrapper-6OoWT9pK.js";import{d as me}from"./CardHeaderContext-CR2EohSr.js";const x=new WeakMap,k=(e,a)=>{if(!e||!a)return;const t=x.get(a)||new Map;x.set(a,t);let o=t.get(e);return o||(o=a.matchMedia(e),o.refCount=0,t.set(o.media,o)),o};function pe(e,a=typeof window>"u"?void 0:window){const t=k(e,a),[o,c]=l.useState(()=>t?t.matches:!1);return ee(()=>{let n=k(e,a);if(!n)return c(!1);let u=x.get(a);const s=()=>{c(n.matches)};return n.refCount++,n.addListener(s),s(),()=>{n.removeListener(s),n.refCount--,n.refCount<=0&&(u==null||u.delete(n.media)),n=void 0}},[e]),o}function he(e){const a=Object.keys(e);function t(s,r){return s===r?r:s?`${s} and ${r}`:r}function o(s){return a[Math.min(a.indexOf(s)+1,a.length-1)]}function c(s){const r=o(s);let f=e[r];return typeof f=="number"?f=`${f-.2}px`:f=`calc(${f} - 0.2px)`,`(max-width: ${f})`}function n(s){let r=e[s];return typeof r=="number"&&(r=`${r}px`),`(min-width: ${r})`}function u(s,r,f){let m;typeof s=="object"?(m=s,f=r,r=!0):(r=r||!0,m={[s]:r});let O=l.useMemo(()=>Object.entries(m).reduce((p,[E,h])=>((h==="up"||h===!0)&&(p=t(p,n(E))),(h==="down"||h===!0)&&(p=t(p,c(E))),p),""),[JSON.stringify(m)]);return pe(O,f)}return u}const ge=he({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),S=l.forwardRef(({className:e,bsPrefix:a,as:t="div",...o},c)=>(a=v(a,"offcanvas-body"),i.jsx(t,{ref:c,className:g(e,a),...o})));S.displayName="OffcanvasBody";const ve={[H]:"show",[de]:"show"},F=l.forwardRef(({bsPrefix:e,className:a,children:t,in:o=!1,mountOnEnter:c=!1,unmountOnExit:n=!1,appear:u=!1,...s},r)=>(e=v(e,"offcanvas"),i.jsx(ce,{ref:r,addEndListener:le,in:o,mountOnEnter:c,unmountOnExit:n,appear:u,...s,childRef:ie(t),children:(f,m)=>l.cloneElement(t,{...m,className:g(a,t.props.className,(f===H||f===ue)&&`${e}-toggling`,ve[f])})})));F.displayName="OffcanvasToggling";const D=l.forwardRef(({bsPrefix:e,className:a,closeLabel:t="Close",closeButton:o=!1,...c},n)=>(e=v(e,"offcanvas-header"),i.jsx(ne,{ref:n,...c,className:g(a,e),closeLabel:t,closeButton:o})));D.displayName="OffcanvasHeader";const Ee=me("h5"),b=l.forwardRef(({className:e,bsPrefix:a,as:t=Ee,...o},c)=>(a=v(a,"offcanvas-title"),i.jsx(t,{ref:c,className:g(e,a),...o})));b.displayName="OffcanvasTitle";function Oe(e){return i.jsx(F,{...e})}function ye(e){return i.jsx(fe,{...e})}const L=l.forwardRef(({bsPrefix:e,className:a,children:t,"aria-labelledby":o,placement:c="start",responsive:n,show:u=!1,backdrop:s=!0,keyboard:r=!0,scroll:f=!1,onEscapeKeyDown:m,onShow:O,onHide:p,container:E,autoFocus:h=!0,enforceFocus:I=!0,restoreFocus:A=!0,restoreFocusOptions:Q,onEntered:G,onExit:J,onExiting:K,onEnter:j,onEntering:X,onExited:w,backdropClassName:B,manager:$,renderStaticNode:z=!1,...U},Y)=>{const y=l.useRef();e=v(e,"offcanvas");const[T,Z]=l.useState(!1),M=ae(p),C=ge(n||"xs","up");l.useEffect(()=>{Z(n?u&&!C:u)},[u,n,C]);const _=l.useMemo(()=>({onHide:M}),[M]);function W(){return $||(f?(y.current||(y.current=new re({handleContainerOverflow:!1})),y.current):oe())}const V=(d,...N)=>{d&&(d.style.visibility="visible"),j==null||j(d,...N)},q=(d,...N)=>{d&&(d.style.visibility=""),w==null||w(...N)},P=l.useCallback(d=>i.jsx("div",{...d,className:g(`${e}-backdrop`,B)}),[B,e]),R=d=>i.jsx("div",{...d,...U,className:g(a,n?`${e}-${n}`:e,`${e}-${c}`),"aria-labelledby":o,children:t});return i.jsxs(i.Fragment,{children:[!T&&(n||z)&&R({}),i.jsx(te.Provider,{value:_,children:i.jsx(se,{show:T,ref:Y,backdrop:s,container:E,keyboard:r,autoFocus:h,enforceFocus:I&&!f,restoreFocus:A,restoreFocusOptions:Q,onEscapeKeyDown:m,onShow:O,onHide:M,onEnter:V,onEntering:X,onEntered:G,onExit:J,onExiting:K,onExited:q,manager:W(),transition:Oe,backdropTransition:ye,renderBackdrop:P,renderDialog:R})})]})});L.displayName="Offcanvas";const Te=Object.assign(L,{Body:S,Header:D,Title:b});export{Te as O};
