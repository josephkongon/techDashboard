import{f as h,j as e,c as j,L as u,r as p}from"./index-yuUUyctO.js";import{F as g,B as o,R as f,u as N,a as b,P as y}from"./constand-2MzKY2H2.js";import{B as v}from"./index-C9iPJ7BQ.js";import{f as P}from"./format-DT9SbUHr.js";import{C as r}from"./Card-BQqG1lle.js";import{F as A}from"./Table-CSOoNIQu.js";import{u as F,P as w}from"./index-CtHykCd2.js";import{R as c}from"./Row-Bd_6pW-A.js";import{C as d}from"./Col-C9voJz8y.js";import{g as I}from"./order-Ce9Igb29.js";import{B as x}from"./Button-B0wmy4O4.js";import"./index-CBw9tgfC.js";import"./Anchor-Dl5sMHsj.js";import"./useEventCallback-D9iA8xtn.js";import"./Button-p2pLIQWZ.js";import"./iconBase-DajP4cR_.js";import"./CardHeaderContext-CR2EohSr.js";import"./addEventListener-MtvHkOBD.js";import"./index-B81dbxI5.js";import"./index-zwwZ_c_4.js";import"./Input-DPA-4Z3o.js";import"./warning-DlN2PdZY.js";import"./NavContext-CTH_cL13.js";import"./Nav-BuqLTMK8.js";import"./DataKey-COGXBUcQ.js";import"./useMergedRefs-DpKCltFn.js";import"./useEventCallback-DSfWK9PI.js";const O=({status:s})=>e.jsx(e.Fragment,{children:e.jsx("h5",{children:e.jsxs("span",{className:j("badge",{"bg-soft-success text-success":s==="Paid","bg-soft-danger text-danger":s==="Payment Failed","bg-soft-info text-info":s==="Unpaid","bg-soft-warning text-warning":s==="Awaiting Authorization"}),children:[s==="Paid"&&e.jsx("i",{className:"mdi mdi-bitcoin me-1"}),s==="Payment Failed"&&e.jsx("i",{className:"mdi mdi-cancel me-1"}),s==="Unpaid"&&e.jsx("i",{className:"mdi mdi-cash me-1"}),s==="Awaiting Authorization"&&e.jsx("i",{className:"mdi mdi-timer-sand me-1"}),s]})})}),k=({status:s})=>e.jsx(e.Fragment,{children:e.jsx("h5",{children:e.jsx("span",{className:j("badge",{"bg-success":s==="Delivered","bg-danger":s==="Cancelled","bg-info":s==="Shipped","bg-warning":s==="Processing","bg-info-subtle":s==="Pending"}),children:s})})}),B=({orders:s})=>{const n=h(),a=[{title:"Order ID",dataIndex:"shortId",key:"shortId"},{title:"Date",dataIndex:"createdAt",key:"createdAt",render:(t,i)=>e.jsx(e.Fragment,{children:P(i.createdAt)})},{title:"Payment status",dataIndex:"paymentStatus",key:"paymentStatus",render:t=>O({status:t})},{title:"Order Status",dataIndex:"status",key:"status",render:(t,i)=>e.jsx(e.Fragment,{children:k({status:t})})},{title:"Username",dataIndex:"user.username",key:"user.username",render:(t,i)=>{var l;return e.jsx(e.Fragment,{children:(l=i==null?void 0:i.user)==null?void 0:l.username})}},{title:"Action",key:"operation",fixed:"right",width:120,render:(t,i)=>e.jsxs(g,{style:{gap:5},children:[e.jsx(o,{variant:"filled",children:e.jsx(v,{})}),e.jsx(o,{onClick:()=>{n(`${i.id}`)},children:e.jsx(f,{})})]})}];return e.jsx(r,{children:e.jsx(r.Body,{children:e.jsx(A,{scroll:{y:700},columns:a,dataSource:s})})})},S=({order:s})=>{var a;const n=h();return e.jsx(e.Fragment,{children:e.jsx(c,{children:e.jsx(d,{md:6,xl:3,children:e.jsx(r,{style:{padding:"1em"},className:"product-box",onClick:()=>{n(s==null?void 0:s.id)},children:e.jsx("div",{className:"product-info",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsxs("div",{className:"col",children:[e.jsx("h5",{className:"font-16 mt-0 sp-line-1",children:e.jsx(u,{to:"",className:"text-dark",children:s==null?void 0:s.shortId})}),e.jsx("h5",{className:"m-0",children:e.jsxs("span",{className:"text-muted",children:["Name : ",(a=s==null?void 0:s.user)==null?void 0:a.username]})})]}),e.jsxs("div",{className:"col-auto",children:[e.jsxs("div",{style:{marginBottom:"10px"},children:["Order status : ",s==null?void 0:s.status]}),e.jsxs("div",{children:["Payment status : ",s==null?void 0:s.paymentStatus]})]})]})})})})})})},C=()=>{const{isLoading:s,refetch:n,isFetching:a,data:t}=N(["get-all-orders"],async()=>I(),{...b}),i=p.useMemo(()=>t==null?void 0:t.data.reduce((l,m)=>({...l,[m.id]:m}),{}),[t==null?void 0:t.data]);return{isLoading:s,isFetching:a,orderObject:i,data:t==null?void 0:t.data,refetch:n}},re=()=>{const{data:s}=C(),n=F();return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Orders"}),e.jsx(c,{children:e.jsxs(d,{children:[e.jsx(r,{children:e.jsx(r.Body,{children:e.jsxs(c,{className:"align-items-center",children:[e.jsx(d,{lg:8,children:e.jsx("form",{className:"row gy-2 gx-2 align-items-center justify-content-lg-start justify-content-between",children:e.jsx("div",{className:"col-auto",children:e.jsxs("div",{className:"d-flex align-items-center w-auto",children:[e.jsx("label",{htmlFor:"status-select",className:"me-2",children:"Status"}),e.jsxs("select",{className:"form-select",id:"status-select",children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Authorization",children:"Awaiting Authorization"}),e.jsx("option",{value:"Failed",children:"Payment failed"}),e.jsx("option",{value:"Unpaid",children:"Unpaid"})]})]})})})}),e.jsx(d,{lg:4,children:e.jsxs("div",{className:"text-lg-end mt-xl-0 mt-2",children:[e.jsxs(x,{className:"btn btn-danger mb-2 me-2",children:[e.jsx("i",{className:"mdi mdi-basket me-1"})," Add New Order"]}),e.jsx(x,{className:"btn btn-light mb-2",children:"Export"})]})})]})})}),n?e.jsx("div",{children:e.jsx(w,{data:s,RenderComponent:({item:a})=>e.jsx(S,{order:a})})}):e.jsx(r,{children:e.jsx(r.Body,{children:e.jsx(B,{orders:s})})})]})})]})};export{re as default};
