import{s as be,x as m,i as ee,t as re,_ as M,h as Q,v as le,at as ne,K as ae,l as Ce,n as r,r as ye,z as he,P as Se,m as $e}from"./index-CBw9tgfC.js";import{A as pe,y as xe,D as we}from"./constand-2MzKY2H2.js";import{r as t,R as g,c as x}from"./index-yuUUyctO.js";import{i as Re,g as Ne}from"./index-D7ZmTkAm.js";var de=t.createContext({});function te(e,n,a){var o=n;return!o&&a&&(o="".concat(e,"-").concat(a)),o}function oe(e,n){var a=e["page".concat(n?"Y":"X","Offset")],o="scroll".concat(n?"Top":"Left");if(typeof a!="number"){var i=e.document;a=i.documentElement[o],typeof a!="number"&&(a=i.body[o])}return a}function Ee(e){var n=e.getBoundingClientRect(),a={left:n.left,top:n.top},o=e.ownerDocument,i=o.defaultView||o.parentWindow;return a.left+=oe(i),a.top+=oe(i,!0),a}const Be=t.memo(function(e){var n=e.children;return n},function(e,n){var a=n.shouldUpdate;return!a});var Me={width:0,height:0,overflow:"hidden",outline:"none"},Ie={outline:"none"},Te=g.forwardRef(function(e,n){var a=e.prefixCls,o=e.className,i=e.style,u=e.title,l=e.ariaId,v=e.footer,d=e.closable,b=e.closeIcon,h=e.onClose,y=e.children,C=e.bodyStyle,w=e.bodyProps,$=e.modalRender,R=e.onMouseDown,N=e.onMouseUp,O=e.holderRef,H=e.visible,I=e.forceRender,S=e.width,T=e.height,s=e.classNames,f=e.styles,q=g.useContext(de),G=q.panel,U=be(O,G),P=t.useRef(),A=t.useRef();g.useImperativeHandle(n,function(){return{focus:function(){var p;(p=P.current)===null||p===void 0||p.focus({preventScroll:!0})},changeActive:function(p){var X=document,V=X.activeElement;p&&V===A.current?P.current.focus({preventScroll:!0}):!p&&V===P.current&&A.current.focus({preventScroll:!0})}}});var L={};S!==void 0&&(L.width=S),T!==void 0&&(L.height=T);var E=v?g.createElement("div",{className:x("".concat(a,"-footer"),s==null?void 0:s.footer),style:m({},f==null?void 0:f.footer)},v):null,B=u?g.createElement("div",{className:x("".concat(a,"-header"),s==null?void 0:s.header),style:m({},f==null?void 0:f.header)},g.createElement("div",{className:"".concat(a,"-title"),id:l},u)):null,z=t.useMemo(function(){return ee(d)==="object"&&d!==null?d:d?{closeIcon:b??g.createElement("span",{className:"".concat(a,"-close-x")})}:{}},[d,b,a]),D=re(z,!0),_=ee(d)==="object"&&d.disabled,K=d?g.createElement("button",M({type:"button",onClick:h,"aria-label":"Close"},D,{className:"".concat(a,"-close"),disabled:_}),z.closeIcon):null,W=g.createElement("div",{className:x("".concat(a,"-content"),s==null?void 0:s.content),style:f==null?void 0:f.content},K,B,g.createElement("div",M({className:x("".concat(a,"-body"),s==null?void 0:s.body),style:m(m({},C),f==null?void 0:f.body)},w),y),E);return g.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":u?l:null,"aria-modal":"true",ref:U,style:m(m({},i),L),className:x(a,o),onMouseDown:R,onMouseUp:N},g.createElement("div",{ref:P,tabIndex:0,style:Ie},g.createElement(Be,{shouldUpdate:H||I},$?$(W):W)),g.createElement("div",{tabIndex:0,ref:A,style:Me}))}),se=t.forwardRef(function(e,n){var a=e.prefixCls,o=e.title,i=e.style,u=e.className,l=e.visible,v=e.forceRender,d=e.destroyOnClose,b=e.motionName,h=e.ariaId,y=e.onVisibleChanged,C=e.mousePosition,w=t.useRef(),$=t.useState(),R=Q($,2),N=R[0],O=R[1],H={};N&&(H.transformOrigin=N);function I(){var S=Ee(w.current);O(C&&(C.x||C.y)?"".concat(C.x-S.left,"px ").concat(C.y-S.top,"px"):"")}return t.createElement(le,{visible:l,onVisibleChanged:y,onAppearPrepare:I,onEnterPrepare:I,forceRender:v,motionName:b,removeOnLeave:d,ref:w},function(S,T){var s=S.className,f=S.style;return t.createElement(Te,M({},e,{ref:n,title:o,ariaId:h,prefixCls:a,holderRef:T,style:m(m(m({},f),i),H),className:x(u,s)}))})});se.displayName="Content";var ze=function(n){var a=n.prefixCls,o=n.style,i=n.visible,u=n.maskProps,l=n.motionName,v=n.className;return t.createElement(le,{key:"mask",visible:i,motionName:l,leavedClassName:"".concat(a,"-mask-hidden")},function(d,b){var h=d.className,y=d.style;return t.createElement("div",M({ref:b,style:m(m({},y),o),className:x("".concat(a,"-mask"),h,v)},u))})},He=function(n){var a=n.prefixCls,o=a===void 0?"rc-dialog":a,i=n.zIndex,u=n.visible,l=u===void 0?!1:u,v=n.keyboard,d=v===void 0?!0:v,b=n.focusTriggerAfterClose,h=b===void 0?!0:b,y=n.wrapStyle,C=n.wrapClassName,w=n.wrapProps,$=n.onClose,R=n.afterOpenChange,N=n.afterClose,O=n.transitionName,H=n.animation,I=n.closable,S=I===void 0?!0:I,T=n.mask,s=T===void 0?!0:T,f=n.maskTransitionName,q=n.maskAnimation,G=n.maskClosable,U=G===void 0?!0:G,P=n.maskStyle,A=n.maskProps,L=n.rootClassName,E=n.classNames,B=n.styles,z=t.useRef(),D=t.useRef(),_=t.useRef(),K=t.useState(l),W=Q(K,2),j=W[0],p=W[1],X=pe();function V(){ne(D.current,document.activeElement)||(z.current=document.activeElement)}function ce(){if(!ne(D.current,document.activeElement)){var c;(c=_.current)===null||c===void 0||c.focus()}}function ue(c){if(c)ce();else{if(p(!1),s&&z.current&&h){try{z.current.focus({preventScroll:!0})}catch{}z.current=null}j&&(N==null||N())}R==null||R(c)}function Y(c){$==null||$(c)}var F=t.useRef(!1),Z=t.useRef(),fe=function(){clearTimeout(Z.current),F.current=!0},me=function(){Z.current=setTimeout(function(){F.current=!1})},k=null;U&&(k=function(J){F.current?F.current=!1:D.current===J.target&&Y(J)});function ge(c){if(d&&c.keyCode===ae.ESC){c.stopPropagation(),Y(c);return}l&&c.keyCode===ae.TAB&&_.current.changeActive(!c.shiftKey)}t.useEffect(function(){l&&(p(!0),V())},[l]),t.useEffect(function(){return function(){clearTimeout(Z.current)}},[]);var ve=m(m(m({zIndex:i},y),B==null?void 0:B.wrapper),{},{display:j?null:"none"});return t.createElement("div",M({className:x("".concat(o,"-root"),L)},re(n,{data:!0})),t.createElement(ze,{prefixCls:o,visible:s&&l,motionName:te(o,f,q),style:m(m({zIndex:i},P),B==null?void 0:B.mask),maskProps:A,className:E==null?void 0:E.mask}),t.createElement("div",M({tabIndex:-1,onKeyDown:ge,className:x("".concat(o,"-wrap"),C,E==null?void 0:E.wrapper),ref:D,onClick:k,style:ve},w),t.createElement(se,M({},n,{onMouseDown:fe,onMouseUp:me,ref:_,closable:S,ariaId:X,prefixCls:o,visible:l&&j,onClose:Y,onVisibleChanged:ue,motionName:te(o,O,H)}))))},Pe=function(n){var a=n.visible,o=n.getContainer,i=n.forceRender,u=n.destroyOnClose,l=u===void 0?!1:u,v=n.afterClose,d=n.panelRef,b=t.useState(a),h=Q(b,2),y=h[0],C=h[1],w=t.useMemo(function(){return{panel:d}},[d]);return t.useEffect(function(){a&&C(!0)},[a]),!i&&l&&!y?null:t.createElement(de.Provider,{value:w},t.createElement(xe,{open:a||i||y,autoDestroy:!1,getContainer:o,autoLock:a||y},t.createElement(He,M({},n,{destroyOnClose:l,afterClose:function(){v==null||v(),C(!1)}}))))};Pe.displayName="Dialog";function ie(e){return{position:e,inset:0}}const De=e=>{const{componentCls:n,antCls:a}=e;return[{[`${n}-root`]:{[`${n}${a}-zoom-enter, ${n}${a}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${n}${a}-zoom-leave ${n}-content`]:{pointerEvents:"none"},[`${n}-mask`]:Object.assign(Object.assign({},ie("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${n}-hidden`]:{display:"none"}}),[`${n}-wrap`]:Object.assign(Object.assign({},ie("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${n}-root`]:Re(e)}]},Oe=e=>{const{componentCls:n}=e;return[{[`${n}-root`]:{[`${n}-wrap-rtl`]:{direction:"rtl"},[`${n}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[n]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[n]:{maxWidth:"calc(100vw - 16px)",margin:`${r(e.marginXS)} auto`},[`${n}-centered`]:{[n]:{flex:1}}}}},{[n]:Object.assign(Object.assign({},ye(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${r(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${n}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${n}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${n}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:r(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},he(e)),[`${n}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${r(e.borderRadiusLG)} ${r(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${n}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${r(e.margin)} auto`}},[`${n}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${n}-open`]:{overflow:"hidden"}})},{[`${n}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${n}-content,
          ${n}-body,
          ${n}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${n}-confirm-body`]:{marginBottom:"auto"}}}]},Ae=e=>{const{componentCls:n}=e;return{[`${n}-root`]:{[`${n}-wrap-rtl`]:{direction:"rtl",[`${n}-confirm-body`]:{direction:"rtl"}}}}},Le=e=>{const{componentCls:n}=e,a=Ne(e);delete a.xs;const o=Object.keys(a).map(i=>({[`@media (min-width: ${r(a[i])})`]:{width:`var(--${n.replace(".","")}-${i}-width)`}}));return{[`${n}-root`]:{[n]:[{width:`var(--${n.replace(".","")}-xs-width)`}].concat(Se(o))}}},_e=e=>{const n=e.padding,a=e.fontSizeHeading5,o=e.lineHeightHeading5;return $e(e,{modalHeaderHeight:e.calc(e.calc(o).mul(a).equal()).add(e.calc(n).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},We=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${r(e.paddingMD)} ${r(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${r(e.padding)} ${r(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${r(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${r(e.paddingXS)} ${r(e.padding)}`:0,footerBorderTop:e.wireframe?`${r(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${r(e.borderRadiusLG)} ${r(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${r(e.padding*2)} ${r(e.padding*2)} ${r(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),qe=Ce("Modal",e=>{const n=_e(e);return[Oe(n),Ae(n),De(n),we(n,"zoom"),Le(n)]},We,{unitless:{titleLineHeight:!0}});function Ue(e=!1){const[n,a]=t.useState(e),o=t.useCallback(()=>a(l=>!l),[a]),i=t.useCallback(()=>a(!1),[a]),u=t.useCallback(()=>a(!0),[a]);return t.useMemo(()=>({isOpen:n,toggle:o,onClose:i,onOpen:u}),[n,o,i,u])}export{Pe as D,Te as P,qe as a,We as b,De as g,_e as p,Ue as u};
