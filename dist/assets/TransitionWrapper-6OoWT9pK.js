import{R as x,p as g,r as f,j as W}from"./index-yuUUyctO.js";import{o as V,l as M,u as A}from"./useMergedRefs-WCic2-aU.js";function H(t){var s=V(t);return s&&s.defaultView||window}function $(t,s){return H(t).getComputedStyle(t,s)}var Y=/([A-Z])/g;function Z(t){return t.replace(Y,"-$1").toLowerCase()}var z=/^ms-/;function S(t){return Z(t).replace(z,"-ms-")}var B=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function K(t){return!!(t&&B.test(t))}function P(t,s){var i="",r="";if(typeof s=="string")return t.style.getPropertyValue(S(s))||$(t).getPropertyValue(S(s));Object.keys(s).forEach(function(n){var e=s[n];!e&&e!==0?t.style.removeProperty(S(n)):K(n)?r+=n+"("+e+") ":i+=S(n)+": "+e+";"}),r&&(i+="transform: "+r+";"),t.style.cssText+=";"+i}function q(t,s){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(s.indexOf(r)!==-1)continue;i[r]=t[r]}return i}function y(t,s){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},y(t,s)}function J(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,y(t,s)}const k={disabled:!1},L=x.createContext(null);var Q=function(s){return s.scrollTop},C="unmounted",E="exited",v="entering",b="entered",O="exiting",l=function(t){J(s,t);function s(r,n){var e;e=t.call(this,r,n)||this;var o=n,a=o&&!o.isMounting?r.enter:r.appear,u;return e.appearStatus=null,r.in?a?(u=E,e.appearStatus=v):u=b:r.unmountOnExit||r.mountOnEnter?u=C:u=E,e.state={status:u},e.nextCallback=null,e}s.getDerivedStateFromProps=function(n,e){var o=n.in;return o&&e.status===C?{status:E}:null};var i=s.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(n){var e=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==v&&o!==b&&(e=v):(o===v||o===b)&&(e=O)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var n=this.props.timeout,e,o,a;return e=o=a=n,n!=null&&typeof n!="number"&&(e=n.exit,o=n.enter,a=n.appear!==void 0?n.appear:o),{exit:e,enter:o,appear:a}},i.updateStatus=function(n,e){if(n===void 0&&(n=!1),e!==null)if(this.cancelNextCallback(),e===v){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:g.findDOMNode(this);o&&Q(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===E&&this.setState({status:C})},i.performEnter=function(n){var e=this,o=this.props.enter,a=this.context?this.context.isMounting:n,u=this.props.nodeRef?[a]:[g.findDOMNode(this),a],c=u[0],p=u[1],d=this.getTimeouts(),N=a?d.appear:d.enter;if(!n&&!o||k.disabled){this.safeSetState({status:b},function(){e.props.onEntered(c)});return}this.props.onEnter(c,p),this.safeSetState({status:v},function(){e.props.onEntering(c,p),e.onTransitionEnd(N,function(){e.safeSetState({status:b},function(){e.props.onEntered(c,p)})})})},i.performExit=function(){var n=this,e=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:g.findDOMNode(this);if(!e||k.disabled){this.safeSetState({status:E},function(){n.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:O},function(){n.props.onExiting(a),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:E},function(){n.props.onExited(a)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(n,e){e=this.setNextCallback(e),this.setState(n,e)},i.setNextCallback=function(n){var e=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,e.nextCallback=null,n(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},i.onTransitionEnd=function(n,e){this.setNextCallback(e);var o=this.props.nodeRef?this.props.nodeRef.current:g.findDOMNode(this),a=n==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],p=u[1];this.props.addEndListener(c,p)}n!=null&&setTimeout(this.nextCallback,n)},i.render=function(){var n=this.state.status;if(n===C)return null;var e=this.props,o=e.children;e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef;var a=q(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return x.createElement(L.Provider,{value:null},typeof o=="function"?o(n,a):x.cloneElement(x.Children.only(o),a))},s}(x.Component);l.contextType=L;l.propTypes={};function T(){}l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:T,onEntering:T,onEntered:T,onExit:T,onExiting:T,onExited:T};l.UNMOUNTED=C;l.EXITED=E;l.ENTERING=v;l.ENTERED=b;l.EXITING=O;function ut(t){return t.code==="Escape"||t.keyCode===27}function tt(){const t=f.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function ft(t){if(!t||typeof t=="function")return null;const{major:s}=tt();return s>=19?t.props.ref:t.ref}function et(t,s,i,r){if(r===void 0&&(r=!0),t){var n=document.createEvent("HTMLEvents");n.initEvent(s,i,r),t.dispatchEvent(n)}}function nt(t){var s=P(t,"transitionDuration")||"",i=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*i}function rt(t,s,i){i===void 0&&(i=5);var r=!1,n=setTimeout(function(){r||et(t,"transitionend",!0)},s+i),e=M(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(n),e()}}function it(t,s,i,r){i==null&&(i=nt(t)||0);var n=rt(t,i,r),e=M(t,"transitionend",s);return function(){n(),e()}}function w(t,s){const i=P(t,s)||"",r=i.indexOf("ms")===-1?1e3:1;return parseFloat(i)*r}function lt(t,s){const i=w(t,"transitionDuration"),r=w(t,"transitionDelay"),n=it(t,e=>{e.target===t&&(n(),s(e))},i+r)}function ct(t){t.offsetHeight}function st(t){return t&&"setState"in t?g.findDOMNode(t):t??null}const pt=x.forwardRef(({onEnter:t,onEntering:s,onEntered:i,onExit:r,onExiting:n,onExited:e,addEndListener:o,children:a,childRef:u,...c},p)=>{const d=f.useRef(null),N=A(d,u),D=m=>{N(st(m))},h=m=>R=>{m&&d.current&&m(d.current,R)},_=f.useCallback(h(t),[t]),j=f.useCallback(h(s),[s]),I=f.useCallback(h(i),[i]),U=f.useCallback(h(r),[r]),G=f.useCallback(h(n),[n]),X=f.useCallback(h(e),[e]),F=f.useCallback(h(o),[o]);return W.jsx(l,{ref:p,...c,onEnter:_,onEntered:I,onEntering:j,onExit:U,onExited:X,onExiting:G,addEndListener:F,nodeRef:d,children:typeof a=="function"?(m,R)=>a(m,{...R,ref:D}):x.cloneElement(a,{ref:D})})});export{v as E,pt as T,O as a,b,E as c,ct as d,it as e,ft as g,ut as i,P as s,lt as t};
