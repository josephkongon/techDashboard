import{d as w,a as B,q as L}from"./DataKey-COGXBUcQ.js";import{r as i,j as g}from"./index-yuUUyctO.js";import{S as h,N as R,m as A,a as _}from"./NavContext-CTH_cL13.js";import{u as $}from"./useMergedRefs-DpKCltFn.js";import{u as U}from"./useEventCallback-D9iA8xtn.js";import{B as W}from"./Button-p2pLIQWZ.js";const S=i.createContext(null),F=["as","active","eventKey"];function M(e,u){if(e==null)return{};var o={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(u.indexOf(t)>=0)continue;o[t]=e[t]}return o}function V({key:e,onClick:u,active:o,id:t,role:p,disabled:l}){const f=i.useContext(h),c=i.useContext(R),x=i.useContext(S);let d=o;const n={role:p};if(c){!p&&c.role==="tablist"&&(n.role="tab");const a=c.getControllerId(e??null),m=c.getControlledId(e??null);n[w("event-key")]=e,n.id=a||t,d=o==null&&e!=null?c.activeKey===e:o,(d||!(x!=null&&x.unmountOnExit)&&!(x!=null&&x.mountOnEnter))&&(n["aria-controls"]=m)}return n.role==="tab"&&(n["aria-selected"]=d,d||(n.tabIndex=-1),l&&(n.tabIndex=-1,n["aria-disabled"]=!0)),n.onClick=U(a=>{l||(u==null||u(a),e!=null&&f&&!a.isPropagationStopped()&&f(e,a))}),[n,{isActive:d}]}const P=i.forwardRef((e,u)=>{let{as:o=W,active:t,eventKey:p}=e,l=M(e,F);const[f,c]=V(Object.assign({key:A(p,l.href),active:t},l));return f[w("active")]=c.isActive,g.jsx(o,Object.assign({},l,f,{ref:u}))});P.displayName="NavItem";const Y=["as","onSelect","activeKey","role","onKeyDown"];function z(e,u){if(e==null)return{};var o={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(u.indexOf(t)>=0)continue;o[t]=e[t]}return o}const j=()=>{},E=w("event-key"),D=i.forwardRef((e,u)=>{let{as:o="div",onSelect:t,activeKey:p,role:l,onKeyDown:f}=e,c=z(e,Y);const x=_(),d=i.useRef(!1),n=i.useContext(h),a=i.useContext(S);let m,K;a&&(l=l||"tablist",p=a.activeKey,m=a.getControlledId,K=a.getControllerId);const C=i.useRef(null),N=r=>{const s=C.current;if(!s)return null;const b=L(s,`[${E}]:not([aria-disabled=true])`),I=s.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const O=b.indexOf(I);if(O===-1)return null;let v=O+r;return v>=b.length&&(v=0),v<0&&(v=b.length-1),b[v]},y=(r,s)=>{r!=null&&(t==null||t(r,s),n==null||n(r,s))},T=r=>{if(f==null||f(r),!a)return;let s;switch(r.key){case"ArrowLeft":case"ArrowUp":s=N(-1);break;case"ArrowRight":case"ArrowDown":s=N(1);break;default:return}s&&(r.preventDefault(),y(s.dataset[B("EventKey")]||null,r),d.current=!0,x())};i.useEffect(()=>{if(C.current&&d.current){const r=C.current.querySelector(`[${E}][aria-selected=true]`);r==null||r.focus()}d.current=!1});const q=$(u,C);return g.jsx(h.Provider,{value:y,children:g.jsx(R.Provider,{value:{role:l,activeKey:A(p),getControlledId:m||j,getControllerId:K||j},children:g.jsx(o,Object.assign({},c,{onKeyDown:T,ref:q,role:l}))})})});D.displayName="Nav";const k=Object.assign(D,{Item:P});export{k as B,S as T,V as u};
