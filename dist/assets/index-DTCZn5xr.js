import{r as f,j as e}from"./index-yuUUyctO.js";import{B as x,u as I,a as F,P,F as E}from"./constand-2MzKY2H2.js";import{u as O}from"./useDisclosure-BnWxVtk_.js";import{u as S,s as p}from"./index-CaWbZqE4.js";import{a as j,S as T}from"./index-CBw9tgfC.js";import{a as w,r as B}from"./general-BYphI6_b.js";import{F as i}from"./index-D7ZmTkAm.js";import{M as R}from"./index-BEr-eB6r.js";import{I as m}from"./index-KHWGqfV2.js";import{U as q,R as D}from"./index-BB_1Ovp8.js";import{R as L}from"./Row-Bd_6pW-A.js";import{C as n}from"./Col-C9voJz8y.js";import{C as h}from"./Card-BQqG1lle.js";import{I as v}from"./index-CXAPcKyC.js";import"./Anchor-Dl5sMHsj.js";import"./useEventCallback-D9iA8xtn.js";import"./Button-p2pLIQWZ.js";import"./Input-DPA-4Z3o.js";import"./CardHeaderContext-CR2EohSr.js";import"./addEventListener-MtvHkOBD.js";const A=o=>j.post("/contact-us/create",o,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>s.data),H=()=>j.get("/contact-us").then(o=>o.data),M=({isOpen:o,toggle:s,refetch:l})=>{const[a]=i.useForm(),[r,d]=f.useState([]),{isLoading:c,mutateAsync:g}=S(async t=>A(t)),y=t=>{const u=new FormData;if(!r.length){p.warning("Please select at least 1 image of the product");return}r.forEach(b=>{u.append("file",b.originFileObj)}),w(u,B(t)),g(u,{onSuccess:()=>{p.success("Successfully updated configuration"),l(),s()},onError:()=>{p.error("Error updating configuration")}})},C=({fileList:t})=>{d(t)};return f.useEffect(()=>{},[]),e.jsx(R,{title:"Update Basic config",open:o,destroyOnClose:!0,onClose:s,onCancel:s,footer:null,children:e.jsxs(i,{form:a,name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:y,autoComplete:"off",children:[e.jsx(i.Item,{label:"City",name:"city",rules:[{required:!0,message:"Please input your city!"}],children:e.jsx(m,{})}),e.jsx(i.Item,{label:"Phone 1",name:"phone1",rules:[{required:!0,message:"Please input your phone 1!"}],children:e.jsx(m,{})}),e.jsx(i.Item,{label:"Phone 2",name:"phone2",children:e.jsx(m,{})}),e.jsx(i.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please input your address!"}],children:e.jsx(m,{})}),e.jsx(i.Item,{label:"Office Hours",name:"officeHours",rules:[{required:!0,message:"Please input your Office Hours!"}],children:e.jsx(m,{})}),e.jsx(i.Item,{label:"Image",rules:[{required:!0,message:"Please upload the image!"}],children:e.jsx(q,{beforeUpload:()=>!1,listType:"picture-card",maxCount:1,fileList:r,onChange:C,children:e.jsxs("button",{style:{color:"inherit",cursor:"pointer",border:0,background:"none"},type:"button",children:[e.jsx(D,{}),e.jsx("div",{style:{marginTop:8},children:"Upload"})]})})}),e.jsx(i.Item,{label:null,children:e.jsx(x,{loading:c,type:"primary",htmlType:"submit",children:"Submit"})})]})})},N=()=>{const{isLoading:o,refetch:s,isFetching:l,data:a}=I(["get-contact-use"],async()=>H(),{...F});return{refetch:s,isFetching:l,data:a}},ae=()=>{const{isFetching:o,data:s}=N(),{isOpen:l,toggle:a}=O();return console.log(s),e.jsxs(T,{spinning:o,children:[e.jsx(M,{isOpen:l,toggle:a,refetch:()=>{}}),e.jsx(P,{title:"Contact Us"}),e.jsx(L,{children:e.jsx(n,{children:e.jsx(h,{children:e.jsx(E,{className:"p-2 justify-content-end",children:e.jsx(x,{onClick:a,children:"Add"})})})})}),s==null?void 0:s.map(r=>{var d;return e.jsx(n,{children:e.jsx(h,{className:"product-box",children:e.jsxs(h.Body,{children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx(n,{children:r==null?void 0:r.city}),e.jsx(n,{children:r==null?void 0:r.address}),e.jsx(n,{children:r==null?void 0:r.phone1}),(r==null?void 0:r.phone2)&&e.jsx(n,{children:r==null?void 0:r.phone2}),e.jsx(n,{children:r==null?void 0:r.officeHours})]}),e.jsx(v,{preview:!1,src:(d=r==null?void 0:r.file)==null?void 0:d.originalUrl,height:250,width:300,style:{padding:"10px"}})]})})})})]})};export{ae as default};
