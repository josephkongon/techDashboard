import{r as o,R as c}from"./index-yuUUyctO.js";function k(t,e,n){const r=o.useRef(t!==void 0),[s,a]=o.useState(e),u=t!==void 0,l=r.current;return r.current=u,!u&&l&&s!==e&&a(e),[u?t:s,o.useCallback((...p)=>{const[$,...x]=p;let b=n==null?void 0:n($,...x);return a($),b},[n])]}const d={prefix:String(Math.round(Math.random()*1e10)),current:0},f=c.createContext(d),S=c.createContext(!1);let v=!!(typeof window<"u"&&window.document&&window.document.createElement),i=new WeakMap;function m(t=!1){let e=o.useContext(f),n=o.useRef(null);if(n.current===null&&!t){var r,s;let a=(s=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let u=i.get(a);u==null?i.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,i.delete(a))}n.current=++e.current}return n.current}function w(t){let e=o.useContext(f);e===d&&!v&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=m(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function g(t){let e=c.useId(),[n]=o.useState(M()),r=n?"react-aria":`react-aria${d.prefix}`;return t||`${r}-${e}`}const z=typeof c.useId=="function"?g:w;function y(){return!1}function C(){return!0}function h(t){return()=>{}}function M(){return typeof c.useSyncExternalStore=="function"?c.useSyncExternalStore(h,y,C):o.useContext(S)}export{z as $,k as u};
